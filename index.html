<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js ie6" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->  <html class="no-js" lang="en"> <!--<![endif]-->
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	
	<title>JavaScript for ColdFusion Developers</title>
	
	<meta name="description" content="A presentation on JavaScript fundamentals for ColdFusion developers.">
	<meta name="author" content="Ryan Anklam">
	<meta name="viewport" content="width=1024, user-scalable=no">
	

	<!-- Core and extension CSS files -->
	<link href="google-code-prettify/prettify.css" type="text/css" rel="stylesheet" />
	<link rel="stylesheet" href="core/deck.core.css">
	<link rel="stylesheet" href="extensions/goto/deck.goto.css">
	<link rel="stylesheet" href="extensions/menu/deck.menu.css">
	<link rel="stylesheet" href="extensions/navigation/deck.navigation.css">
	<link rel="stylesheet" href="extensions/status/deck.status.css">
	<link rel="stylesheet" href="extensions/hash/deck.hash.css">
	
	<!-- Theme CSS files (menu swaps these out) -->
	<link rel="stylesheet" id="style-theme-link" href="themes/style/web-2.0.css">
	<link rel="stylesheet" id="transition-theme-link" href="themes/transition/horizontal-slide.css">
	
	<!-- Custom CSS just for this page -->
	<link rel="stylesheet" href="introduction.css">
	
	<script src="modernizr.custom.js"></script>
	<script type="text/javascript" src="google-code-prettify/prettify.js"></script>
</head>

<body class="deck-container" onload="prettyPrint()">

<div class="slide" id="title-slide">
	<h1>JavaScript for ColdFusion Developers</h1>
</div>

<div class="slide" id="about-me">
<h2>About me</h2>
<p>Do you really care? If you really want to know here's all you'll need: <a href="http://www.google.com/search?q=ryan+anklam">http://www.google.com/search?q=ryan+anklam</a></p>
<p>Here's a lol cat instead:</p>
<img src="images/lolcats-computer-with-balloon.jpg">
</div>

<div class="slide" id="introduction">
	<h2>Introduction</h2>
	<p>
		JavaScript and ColdFusion may have more in common than you may think.  In this session I'll walk you through many of the fundamentals of JavaScript and how many concepts relate to the language you love and already know, ColdFusion.  
	</p>
	<p>
		<h3>JavaScript Objects &amp; ColdFusion Structs.</h3>
		<h4>ColdFusion</h4>
		<pre><code class="prettyprint">var obj = {
	key = &quot;value&quot;,
	foo = &quot;Bar&quot;,
}</code></pre>
		<h4>JavaScript</h4>
		<pre><code class="prettyprint">var obj = {
	key : &quot;value&quot;,
	foo : &quot;bar&quot;
}</code></pre>
</p>
</div>

<div class="slide" id="asumptions">
	<h2>Asumptions</h2>
	<ul>
		<li class="slide" id="assumptions1">
			<h3>You have some basic programming knowledge</h3>
		</li>
		<li class="slide" id="assumptions2">
			<h3>You have written some JavaScript before.</h3>
		</li>
		<li class="slide" id="assumptions3">
			<h3>You know the basics of ColdFusion.</h3>
		</li>
	</ul>

</div>

<div class="slide" id="what-well-cover">
	<h2>What we'll cover</h2>
	<ul>
		<li class="slide" id="coverVars">
			<h3>Variables</h3>
		</li>
		<li class="slide" id="coverStmts">
			<h3>Statements</h3>
		</li>
		<li class="slide" id="coverFn">
			<h3>Functions</h3>
		</li>
		<li class="slide" id="coverObj">
			<h3>Objects</h3>
		</li>
		<li class="slide" id="coverRes">
			<h3>Resources</h3>
		</li>
	</ul>

</div>

<div class="slide" id="variables">
	<h2>Variables</h2>
	<p>Variables in ColdFusion and JavaScript both share the same problem: poor default scoping.</p>
	<h3>ColdFusion</h3>
	<pre><code class="prettyprint">&lt;cffunction name=&quot;doSomething&quot; returnType=&quot;void&quot;&gt;
	&lt;cfset myVar = &amp;quot;foo&amp;quot&gt; &lt;!---this goes into the variables scope which == bad ---&gt;
	&lt;cfset var myOtherVar = &amp;quot;bar&amp;quot&gt; &lt;!---this goes into the local scope which == good ---&gt;		
&lt;/cffunction&gt;</code></pre>
<h3>JavaScript</h3>
	<pre><code class="prettyprint">function doSomething(){
	myVar = &quot;foo&quot;; //this goes into the global scope which == bad
	var myOtherVar = &quot;bar&quot;; //this goes into the function scope which == good		
}</code></pre>
</div>

<div class="slide" id="variables2">
	<h2>Scoping Example</h2>
	<pre><code class="prettyprint">function doSomething(){
	myVar = &quot;foo&quot;; //this goes into the global scope which == bad
	var myOtherVar = &quot;bar&quot;; //this goes into the function scope which == good		
};

console.log(myVar); //foo 
console.log(myOtherVar); //error
</code></pre>
<input type="button" value="Run" id="runVariables">
</div>

<script type="text/javascript" charset="utf-8">
	
	var variableButton = document.getElementById("runVariables");
		
	variableButton.addEventListener("click",function(){
	
		myVar = "foo"; //this goes into the global scope which == bad
		var myOtherVar = "bar"; //this goes into the function scope which == good		
		
		outputToConsole();
	});
	
	function outputToConsole(){
		console.log(myVar);
		console.log(myOtherVar);	
	}
</script>

<div class="slide" id="variables3">
	<h2>Numbers</h2>
	<ul>
		<li class="slide" id="var1">
			<p>All numbers in JavaScript are 64 bit floating point numbers.</p>
			<p><pre><codeclass="prettyprint">0.06 + 0.01 = <a href="#" id="numberButton">??</a></code></pre></p>
		</li>
		<li class="slide" id="var2">
			<p>In ColdFusion the result of a mathimaitical expression is a java.lang.Double which is more precise and will give you the expected value.</p>
			<p><pre><code class="prettyprint">result = 0.06 + 0.01;
	
writedump(<a href="http://localhost/test.cfm?section=numbers" target="_blank">result</a>);

writedump(result.getClass().getName());</code></pre></p>
		</li>
	<ul>
</div>

<script type="text/javascript" charset="utf-8">
	var numberButton = document.getElementById("numberButton");
	
	numberButton.addEventListener("click",function(e){
		var result = 0.06 + 0.01;
		console.log("0.06 + 0.01 = " + result);	
		e.preventDefault();
	});
	
	
</script>

<div class="slide" id="arrays">
	<h2>Arrays</h2>
	<ul>
		<li class="slide" id="ar">If you've only worked with ColdFusion arrays its extremely important to note that JavaScript arrays start with <strong>0</strong></li>
		<li class="slide" id="ar1">Arrays can be created with the <code class="prettyprint">var myArray = new Array()</code> keyword, or just like in ColdFusion
			the array literal pattern: <code class="prettyprint">var myArray = ["item1", "item2", myObj, []];</code></li>
		<li class="slide" id="ar2">Arrays can contain anything</li>
	</ul>
</div>

<div class="slide" id="arrays2">
	<h2>Arrays</h2>
	<p>Arrays are objects so they have methods:</p>
		<div><pre><code class="prettyprint">myArray.push("item 4") //adds an element to the end of the array</code></div>
		<div><pre><code class="prettyprint">myArray.slice(1,2) //deletes 2 items from the array starting at position 1</code></div>
		<div><pre><code class="prettyprint">myArray.pop() //removes the last element of the array and returns it</code></div>
		<div><pre><code class="prettyprint">myArray.sort() //sorts the elements of the array</code></div>
</div>

<div class="slide" id="operators">
	<h2>Operators</h2>
	<p>Most of the operators in JavaScript are very similar to what we have available in ColdFusion, but there are some
		subtle differences to be aware of.</p>
</div>

<div class="slide" id="comparisons">
	<h2>Comparisons</h2>
	<p>In JavaScript there are two sets of comparison operators;</p>
	<ul>
		<li>Type coercion operators: == and !==</li>
		<li>Non-type coercion operators: === and !===</li>
	</ul>
	<p>As a ColdFusion developer you are probabaly used to the first type of operators, also known as <strong>eq</strong> and <strong>neq</strong>.</p>	
</div>

<div class="slide" id="comparisons2">
	<h2>Comparisons</h2>
	<h3>What does this mean to you as a JavaScript programmer?</h3>
	<p><code class="prettyprint">1 == "1" //true</code></p>
	<p><strong>but</strong></p>
	<p><code class="prettyprint">1 === "1" //false</code></p>
	<h3>So, which one do I use?</h3>
	<p class="slide" id="crockford">If you are listening to Douglass Crockford you should ONLY use === and !==.  However, you'll see other respected members of the JavaScript community use ==.</p>
</div>

<div class="slide" id="comparisons3">
	<h2>Comparisons</h2>
	<h3>If I'm using === and I know "1" is a numeric value how do I get "1" to equal 1?</h3>
	<p>There are two ways:</p>
	<ol>
		<li class="slide" id="comp1">
			Use the Number object: <code class="prettyprint">Number("1")</code>
		</li>
		<li class="slide" id="comp2">
			Use the parseInt function: <code class="prettyprint">parseInt("1",10) //the second parm is the radix.  For this presentation we'll just say always specify 10</code>
		</li>
		<li class="slide" id="comp2">
			There is also a parseFloat function: <code class="prettyprint">parseFloat("1") //turns a string into a float </code>
		</li>
	</ol>
</div>

<div class="slide" id="comparisons4">
	<h2>Truthy / Falsy Values</h2>
		<h4>Falsy Values</h4>
		<table class="data">
			<thead>
			<tr>
				<th>ColdFusion</th>
				<th>JavaScript</th>
			</tr>
			</thead>
			<tbody>
			<tr>
				<td>false</td>
				<td>false</td>
			</tr>
			<tr>
				<td>0</td>
				<td>0</td>
			</tr>
			<tr>
				<td>"false"</td>
				<td>"empty strings"</td>
			</tr>
			<tr>
				<td>"no"</td>
				<td>undefined</td>
			</tr>
			<tr>
				<td>&nbsp;</td>
				<td>NaN</td>
			</tr>
			</table>
		</table>
		
		<h4>Truthy Values</h4>
		<table class="data">
			<thead>
			<tr>
				<th>ColdFusion</th>
				<th>JavaScript</th>
			</tr>
			</thead>
			<tbody>
			<tr>
				<td>true</td>
				<td>Anything that is NOT falsy</td>
			</tr>
			<tr>
				<td>numbers != 0</td>
				<td>&nbsp;</td>
			</tr>
			<tr>
				<td>"true"</td>
				<td>&nbsp;</td>
			</tr>
			<tr>
				<td>"yes"</td>
				<td>&nbsp;</td>
			</tr>
			</table>
		</table>
		
	
</div>

<div class="slide" id="andor">
	<h2>Logical Operators</h2>
	<p>Logical operators in JavaScript work slightly differnt than what you are used to in ColdFusion</p>
	<h3>CFML</h3>
	<pre><code class="prettyprint">//evaluates both expressions and tests if either are true
if(false || len("hello")){
	writeoutput("<a href="http://localhost/test.cfm?section=andor" target="_blank">Hello World</a>");
}
</code>
</pre>
	<h3>JavaScript</h3>
	<pre><code class="prettyprint">//returns the value of the first expression if its true, otherwise returns the value of the second expression
console.log(false || &quot;hello&quot;);
console.log(&quot;world&quot; || &quot;foo&quot;);
</code>
</pre>
<input type="button" id="andor" value="Run">
</div>

<script type="text/javascript" charset="utf-8">
	var andorLink = document.getElementById("andor");
	
	andorLink.addEventListener("click",function(){
		console.log(false || "hello");
		console.log("world" || "foo");
	});
</script>

<div class="slide" id="andor2">
	<h2>Logical Operators</h2>
	<p>The || operator can be used to set default values like so:</p>
	<pre><code class="prettyprint">//returns the value of the first expression if its true, otherwise returns the value of the second expression
var myFunc = functin(arg){
	var myVal = arg || &quot;defaultValue&quot;; //if no arg was passed in myVal is &quot;defaultValue&quot;
	console.log(myVal);
}

myFunc();
</code>
</pre>
<input type="button" value="Run" id="andor2">
</div>

<script type="text/javascript" charset="utf-8">
	var andorLink = document.getElementById("andor2");
	
	var myFunc = function(arg){
		var myVal = arg || "defaultValue"; //if no arg was passed in myVal is "defaultValue"
		console.log(myVal);
	}

	andorLink.addEventListener("click",function(){
		myFunc();
	});
</script>

<div class="slide" id="andor3">
	<h2>Logical</h2>
	<p>Similar to the || operator the && operator returns the first operator if it is false, otherwise it procuces the value of the second:</p>
	<pre><code class="prettyprint">//returns the value of the first expression if its false, otherwise returns the value of the second expression
console.log(false &amp;&amp; &quot;Foo&quot;);
console.log(true &amp;&amp; &quot;Bar&quot;);
</code>
</pre>
<input type="button" id="andor3" value="Run">
</div>

<script type="text/javascript" charset="utf-8">
	var andorLink = document.getElementById("andor3");

	andorLink.addEventListener("click",function(){
		console.log(false && "Foo");
		console.log(true && "Bar");
	});
</script>

<div class="slide" id="loops">
	<h2>Loops</h2>
	<h3>JavaScript has for loops, while loops, and for-in loops</h3>
	<p>They all work pretty much the same way ColdFusion loops do.</p>
	<p><strong>If you've ONLY written CFML you'll be surprised to know that counters in JavaScript start with 0.  This is how it is in just about every other language</strong></p>
	<h4>ColdFusion</h4>
<pre><code class="prettyprint">for(var i = 1; i lte 100; i = i + 1){
	...
}</pre></code>
	<h4>JavaScript</h4>
<pre><code class="prettyprint">for(var i = 0; i lt 100; i = i++){
	...
}</pre></code>
</div>

<div class="slide" id="foriinloops">
	<h2>Loops</h2>
	<h3>for-in loops</h3>
	<p>In JavaScript you can loop through the properties of an object like you can loop through the keys of a Struct</p>
	<h3>ColdFusion</h3>
<pre><code class="prettyprint">for(var myKey in myStruct){
	<a href="http://localhost/test.cfm?section=forin" target="_blank">myVar</a> = myStruct[key];
}</pre></code>
	<h3>JavaScript</h3>
<pre><code class="prettyprint">for(var myKey in myStruct){
	myVar = myStruct[key];
}</pre></code>
<input type="button" value="Run" id="runforin">
</div>

<script type="text/javascript" charset="utf-8">
	var andorLink = document.getElementById("runforin");

	andorLink.addEventListener("click",function(){
		var myObj = {foo : "Foo", bar : "Bar", baz : "Baz"};
		
		for(var myKey in myObj){
			console.log(myKey + " = " + myObj[myKey]);
		}
	});
</script>

<div class="slide" id="functions">
	<h2>Functions</h2>
	<p>JavaScript functions are one of the most powerful features of the languages</p>
	<p>They have many similariries to functions in ColdFusion:</p>
	<ul>
		<li class="slide" id="fn1">First class citizens</li>
		<li class="slide" id="fn2">Arguments are type-less</li>
		<li class="slide" id="fn3">Arguments are passed in an array like structure called arguments</li>
	</ul>
</div>

<div class="slide" id="functions2">
	<h2>Functions</h2>
	<p>However, there are some important differences</p>
	<ul>
		<li class="slide" id="fn4">There is ONLY function scope in JavaScript.</li>
		<li class="slide" id="fn5">You can have unnamed, or anonymous functions in JavaScript</li>
		<li class="slide" id="fn6">Functions may have nested inner functions, more on these "enclosed" functions later.</li>
	</ul>
</div>

<div class="slide" id="function3">
	<h2>Function literal pattern</h2>
	<pre><code class="prettyprint">var myFunc = function(args){
	...		
};

//invocation
myFunc(arg1, "arg2");
</code></pre>	
</div>

<div class="slide" id="function4">
	<h2>Function Arguments</h2>
	<p>Just like in ColdFusion you can have named arguments and arguments that are outside of the named arguments.</p>
	<p>Arguments in JavaScript are stored in an array-like object.  The "arguments" object has a length property but none of the other array methods.</p>
	<pre><code class="prettyprint">var myFunc(){
		console.log(arguments);
	};
	
	myFunc(&quot;Hello&quot;, &quot;World&quot;, function(){});
</code></pre>
<input type="button" value="Run" id="fnargs">
</div>
	
<script type="text/javascript" charset="utf-8">
	var funcButton = document.getElementById("fnargs");	

	funcButton.addEventListener("click",function(){
		myFunc("Hello", "World", function(){});	
	});
	
	var myFunc = function(){
		console.log(arguments);
	};	
</script>

<div class="slide" id="objects">
	<h2>Objects</h2>
	<p>Objects in JavaScript can be thought of as being similar to a ColdFusion struct.</p>
	<h3>ColdFusion</h3>
	<pre><code class="prettyprint">
		myStruct = {foo = "foo", bar = "bar"};
	</code></pre>
	<h3>JavaScript</h3>
	<pre><code class="prettyprint">
		myStruct = {foo : "Foo", bar : "Bar", myFunc : function(){ //do something}};
	</code></pre>
</div>

<div class="slide" id="objects">
	<h2>Objects</h2>
	<p>You can access an object's properties just like you can in ColdFusion, with "dot" notation or with associative array notation</p>
	<pre><code class="prettyprint">
		myStruct.foo; //Foo
		myStruct["foo"]; //Foo
	</code></pre>
</div>

<div class="slide" id="objects">
	<h2>Objects</h2>
	<p>As shown in the for-in loop example you can use a for-in loop to loop through a objects properties.</p>
	<p>However, theres on important thing to note.</p>
	<pre><code class="prettyprint">
		myStruct.foo; //Foo
		myStruct["foo"]; //Foo
	</code></pre>
</div>

<a href="#" class="deck-prev-link" title="Previous">&#8592;</a>
<a href="#" class="deck-next-link" title="Next">&#8594;</a>

<p class="deck-status">
	<span class="deck-status-current"></span>
	/
	<span class="deck-status-total"></span>
</p>

<form action="." method="get" class="goto-form">
	<label for="goto-slide">Go to slide:</label>
	<input type="number" name="slidenum" id="goto-slide">
	<input type="submit" value="Go">
</form>

<a href="." title="Permalink to this slide" class="deck-permalink">#</a>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.js"></script>
<script>window.jQuery || document.write('<script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.6.1.min.js">\x3C/script>')</script>

<!-- Deck Core and extensions -->
<script src="core/deck.core.js"></script>
<script src="extensions/menu/deck.menu.js"></script>
<script src="extensions/goto/deck.goto.js"></script>
<script src="extensions/status/deck.status.js"></script>
<script src="extensions/navigation/deck.navigation.js"></script>
<script src="extensions/hash/deck.hash.js"></script>

<!-- Specific to this page -->
<script src="introduction.js"></script>

</body>
</html>
